<!-- INCLUDE overall_header.html -->

<a name="maincontent"></a>

<!-- IF S_EDIT -->

	<a href="{U_BACK}" style="float: {S_CONTENT_FLOW_END};">&laquo; {L_BACK}</a>

	<script type="text/javascript">
	// <![CDATA[
		function update_icon(new_icon)
		{
			document.getElementById('current_icon').src = (new_icon) ? "{ICONS_PATH}/" + encodeURI(new_icon) : "./images/spacer.gif";
		}

		function display_types(value)
		{
			if (value == 'custom')
			{
				dE('custom_block', 1);
			}
			else
			{
				dE('custom_block', -1);
			}
			if (value == 'donation')
			{
				dE('donation_block', 1);
			}
			else
			{
				dE('donation_block', -1);
			}
			if (value == 'online_friends')
			{
				dE('online_friends_block', 1);
			}
			else
			{
				dE('online_friends_block', -1);
			}
			if (value == 'birthday')
			{
				dE('birthday_block', 1);
			}
			else
			{
				dE('birthday_block', -1);
			}
			if (value == 'latest_bots')
			{
				dE('latest_bots_block', 1);
			}
			else
			{
				dE('latest_bots_block', -1);
			}
			if (value == 'latest_members')
			{
				dE('latest_members_block', 1);
			}
			else
			{
				dE('latest_members_block', -1);
			}
		}
	// ]]>
	</script>

	<script type="text/javascript">
	// <![CDATA[

		var form_name = 'acp_portal_blocks';
		var text_name = 'block_text';

		// Define the bbCode tags
		var bbcode = new Array();
		var bbtags = new Array('[b]','[/b]','[i]','[/i]','[u]','[/u]','[quote]','[/quote]','[code]','[/code]','[list]','[/list]','[list=]','[/list]','[img]','[/img]','[url]','[/url]','[flash=]', '[/flash]','[size=]','[/size]'<!-- BEGIN custom_tags -->, {custom_tags.BBCODE_NAME}<!-- END custom_tags -->);
		var imageTag = false;

		// Helpline messages
		var help_line = {
			b: '{LA_BBCODE_B_HELP}',
			i: '{LA_BBCODE_I_HELP}',
			u: '{LA_BBCODE_U_HELP}',
			q: '{LA_BBCODE_Q_HELP}',
			c: '{LA_BBCODE_C_HELP}',
			l: '{LA_BBCODE_L_HELP}',
			o: '{LA_BBCODE_O_HELP}',
			p: '{LA_BBCODE_P_HELP}',
			w: '{LA_BBCODE_W_HELP}',
			s: '{LA_BBCODE_S_HELP}',
			f: '{LA_BBCODE_F_HELP}',
			e: '{LA_BBCODE_E_HELP}',
			d: '{LA_BBCODE_D_HELP}',
			t: '{LA_BBCODE_T_HELP}',
			tip: '{L_STYLES_TIP}'
			<!-- BEGIN custom_tags -->
				,cb_{custom_tags.BBCODE_ID}: '{custom_tags.A_BBCODE_HELPLINE}'
			<!-- END custom_tags -->
		}

	// ]]>
	</script>
	<script type="text/javascript" src="{T_TEMPLATE_PATH}/editor.js"></script>

	<h1>{L_ACP_PORTAL_BLOCKS}</h1>
	<p>{L_ACP_PORTAL_BLOCKS_EXPLAIN}</p>

	<form id="acp_portal_blocks" method="post" action="{U_ACTION}">

	<fieldset>
		<legend>{L_ACP_PORTAL_BLOCKS}</legend>
	<dl>
		<dt><label for="block_title">{L_BLOCK_TITLE}:</label><br />
		<span>{L_BLOCK_TITLE_EXPLAIN}</span></dt>
		<dd><input name="block_title" type="text" id="block_title" value="{BLOCK_TITLE}" maxlength="255" /></dd>
	</dl>
	<dl>
		<dt><label for="block_icon">{L_BLOCK_ICON}:</label><br />
		<span>{L_BLOCK_ICON_EXPLAIN}</span></dt>
		<dd><select name="block_icon" id="block_icon" onchange="update_icon(this.options[selectedIndex].value);">{S_ICON_FILENAME_LIST}</select></dd>
		<dd><img src="{BLOCK_ICON}" id="current_icon" alt="" /></dd>
	</dl>
	<dl>
		<dt><label for="block_groups">Gruppe:</label></dt>
		<dd><select name="block_groups" id="block_groups">{S_BLOCK_GROUPS}</select></dd>
	</dl>
	<dl>
		<dt><label for="block_position">{L_BLOCK_POSITION}:</label><br />
		<span>{L_BLOCK_POSITION_EXPLAIN}</span></dt>
		<dd><select name="block_position" id="block_position">{S_POSITION_OPTIONS}</select></dd>
	</dl>
	<dl>
		<dt><label for="block_type">{L_BLOCK_TYPE}:</label><br />
		<span>{L_BLOCK_TYPE_EXPLAIN}</span></dt>
		<dd><select name="block_type" id="block_type" onchange="display_types(this.value);">{S_TYPE_OPTIONS}</select></dd>
	</dl>
	<!-- IF S_SELECT_BIRTHDAY --><div id="birthday_block" style="display: none;"><!-- ELSE --><div id="birthday_block"><!-- ENDIF -->
	<dl>
		<dt><label for="block_birthday">Geburtstag:</label></dt>
		<dd><input name="block_birthday" type="text" id="block_birthday" value="{BLOCK_BIRTHDAY}" maxlength="255" /></dd>
	</dl>
	</div>
	<!-- IF S_SELECT_PAYPAL --><div id="donation_block" style="display: none;"><!-- ELSE --><div id="donation_block"><!-- ENDIF -->
	<dl>
		<dt><label for="block_donation">{L_PORTAL_PAY_ACC}:</label><br />
		<span>{L_PORTAL_PAY_ACC_EXPLAIN}</span></dt>
		<dd><input name="block_donation" type="text" id="block_donation" value="{BLOCK_PAYPAL}" maxlength="255" /></dd>
	</dl>
	</div>
	<!-- IF S_SELECT_ONLINE_FRIENDS --><div id="online_friends_block" style="display: none;"><!-- ELSE --><div id="online_friends_block"><!-- ENDIF -->
	<dl>
		<dt><label for="block_online_friends">{L_PORTAL_MAX_ONLINE_FRIENDS}:</label><br />
		<span>{L_PORTAL_MAX_ONLINE_FRIENDS_EXPLAIN}</span></dt>
		<dd><input name="block_online_friends" type="text" id="block_online_friends" value="{BLOCK_ONLINE_FRIENDS}" maxlength="3" size="3" /></dd>
	</dl>
	</div>
	<!-- IF S_SELECT_LATEST_MEMBERS --><div id="latest_members_block" style="display: none;"><!-- ELSE --><div id="latest_members_block"><!-- ENDIF -->
	<dl>
		<dt><label for="block_latest_members">{L_PORTAL_MAX_LAST_MEMBER}:</label><br />
		<span>{L_PORTAL_MAX_LAST_MEMBER_EXPLAIN}</span></dt>
		<dd><input name="block_latest_members" type="text" id="block_latest_members" value="{BLOCK_LATEST_MEMBERS}" maxlength="3" size="3" /></dd>
	</dl>
	</div>
	<!-- IF S_SELECT_LATEST_BOTS --><div id="latest_bots_block" style="display: none;"><!-- ELSE --><div id="latest_bots_block"><!-- ENDIF -->
	<dl>
		<dt><label for="block_latest_bots">{L_PORTAL_LAST_VISITED_BOTS_NUMBER}:</label><br />
		<span>{L_PORTAL_LAST_VISITED_BOTS_NUMBER_EXPLAIN}</span></dt>
		<dd><input name="block_latest_bots" type="text" id="block_latest_bots" value="{BLOCK_LATEST_BOTS}" maxlength="3" size="3" /></dd>
	</dl>
	</div>
	<!-- IF S_SELECT_BLOCK --><div id="custom_block" style="display: none;"><!-- ELSE --><div id="custom_block"><!-- ENDIF -->
	<!-- IF BLOCK_TEXT_PREVIEW -->
	<dl>
		<dt><label>{L_PREVIEW}:</label></dt>
		<dd>{BLOCK_TEXT_PREVIEW}</dd>
	</dl>
	<!-- ENDIF -->
	<dl>
		<dt><label for="block_text">{L_BLOCK_TEXT}:</label><br />
		<span>{L_BLOCK_TEXT_EXPLAIN}</span>
			<div id="format-buttons">
			{L_FONT_SIZE}: <select name="addbbcode20" onchange="bbfontstyle('[size=' + this.form.addbbcode20.options[this.form.addbbcode20.selectedIndex].value + ']', '[/size]');this.form.addbbcode20.selectedIndex = 2;" title="{L_FONT_SIZE}" onmouseover="helpline('f')" onmouseout="helpline('tip')">
				<option value="50">{L_FONT_TINY}</option>
				<option value="85">{L_FONT_SMALL}</option>
				<option value="100" selected="selected">{L_FONT_NORMAL}</option>
				<option value="150">{L_FONT_LARGE}</option>
				<option value="200">{L_FONT_HUGE}</option>
			</select>

			<br /><br />

			<input type="button" class="button2" accesskey="b" name="addbbcode0" value=" B " style="font-weight:bold; width: 30px;" onclick="bbstyle(0)" onmouseover="helpline('b')" onmouseout="helpline('tip')" />
			<input type="button" class="button2" accesskey="i" name="addbbcode2" value=" i " style="font-style:italic; width: 30px;" onclick="bbstyle(2)" onmouseover="helpline('i')" onmouseout="helpline('tip')" />
			<input type="button" class="button2" accesskey="u" name="addbbcode4" value=" u " style="text-decoration: underline; width: 30px;" onclick="bbstyle(4)" onmouseover="helpline('u')" onmouseout="helpline('tip')" />
			<input type="button" class="button2" accesskey="q" name="addbbcode6" value="Quote" style="width: 50px" onclick="bbstyle(6)" onmouseover="helpline('q')" onmouseout="helpline('tip')" />
			<input type="button" class="button2" accesskey="c" name="addbbcode8" value="Code" style="width: 40px" onclick="bbstyle(8)" onmouseover="helpline('c')" onmouseout="helpline('tip')" />
			<input type="button" class="button2" accesskey="l" name="addbbcode10" value="List" style="width: 40px" onclick="bbstyle(10)" onmouseover="helpline('l')" onmouseout="helpline('tip')" />
			<input type="button" class="button2" accesskey="o" name="addbbcode12" value="List=" style="width: 40px" onclick="bbstyle(12)" onmouseover="helpline('o')" onmouseout="helpline('tip')" />
			<input type="button" class="button2" accesskey="t" name="addlitsitem" value="[*]" style="width: 40px" onclick="bbstyle(-1)" onmouseover="helpline('e')" onmouseout="helpline('tip')" />
			<input type="button" class="button2" accesskey="p" name="addbbcode14" value="Img" style="width: 40px" onclick="bbstyle(14)" onmouseover="helpline('p')" onmouseout="helpline('tip')" />
			<input type="button" class="button2" accesskey="w" name="addbbcode16" value="URL" style="text-decoration: underline; width: 40px" onclick="bbstyle(16)" onmouseover="helpline('w')" onmouseout="helpline('tip')" />
			<input type="button" class="button2" accesskey="d" name="addbbcode18" value="Flash" onclick="bbstyle(18)" onmouseover="helpline('d')" onmouseout="helpline('tip')" />

			<!-- IF .custom_tags -->
				<!-- BEGIN custom_tags -->
					<input type="button" class="button2" name="addbbcode{custom_tags.BBCODE_ID}" value="{custom_tags.BBCODE_TAG}" onclick="bbstyle({custom_tags.BBCODE_ID})"<!-- IF custom_tags.BBCODE_HELPLINE !== '' --> onmouseover="helpline('cb_{custom_tags.BBCODE_ID}')" onmouseout="helpline('tip')"<!-- ENDIF --> />
				<!-- END custom_tags -->
			<!-- ENDIF -->

			<p><input type="text" class="text full" style="border: 0; background: none;" name="helpbox" value="{L_STYLES_TIP}" /></p>

			<script type="text/javascript">
			// <![CDATA[
				colorPalette('h', 12, 10);
			// ]]>
			</script>

			</div>
		</dt>
		<dd><textarea id="block_text" name="block_text" rows="20" cols="45">{BLOCK_TEXT}</textarea></dd>
		<dd><label><input type="checkbox" class="radio" name="text_parse_bbcode"<!-- IF S_TEXT_BBCODE_CHECKED --> checked="checked"<!-- ENDIF --> /> {L_PARSE_BBCODE}</label>
			<label><input type="checkbox" class="radio" name="text_parse_smilies"<!-- IF S_TEXT_SMILIES_CHECKED --> checked="checked"<!-- ENDIF --> /> {L_PARSE_SMILIES}</label>
			<label><input type="checkbox" class="radio" name="text_parse_urls"<!-- IF S_TEXT_URLS_CHECKED --> checked="checked"<!-- ENDIF --> /> {L_PARSE_URLS}</label></dd>
	</dl>
	</div>

	<p class="submit-buttons">
		<input type="hidden" name="action" value="save" />

		<input class="button1" type="submit" id="submit" name="submit" value="{L_SUBMIT}" />&nbsp;
		<input class="button2" type="reset" id="reset" name="reset" value="{L_RESET}" />
		{S_FORM_TOKEN}
	</p>
	</fieldset>
	</form>

<!-- ELSE -->

	<h1>{L_ACP_PORTAL_BLOCKS}</h1>
	<p>{L_ACP_PORTAL_BLOCKS_EXPLAIN}</p>

	<form id="acp_portal_blocks" method="post" action="{U_ACTION}">
	<fieldset class="tabulated">
	<legend>{L_ACP_PORTAL_BLOCKS}</legend>

	<p class="quick">
		<input class="button2" name="add" type="submit" value="{L_ADD_BLOCK}" />
	</p>

	<table cellspacing="1">
	<thead>
	<tr>
		<th>{L_BLOCK_ICON}</th>
		<th>{L_BLOCK_TITLE}</th>
		<th>{L_BLOCK_TYPE}</th>
		<th>{L_BLOCK_POSITION}</th>
		<th>{L_ACTION}</th>
	</tr>
	</thead>
	<tbody>
	<!-- BEGIN blocks -->
		<!-- IF blocks.S_ROW_COUNT is even --><tr class="row1"><!-- ELSE --><tr class="row2"><!-- ENDIF -->
		<td style="text-align: center;"><!-- IF blocks.S_BLOCK_ICON --><img src="{blocks.BLOCK_ICON}" alt="{blocks.BLOCK_TITLE}" title="{blocks.BLOCK_TITLE}" /><!-- ELSE -->&nbsp; - &nbsp;<!-- ENDIF --></td>
		<td style="text-align: center;">{blocks.BLOCK_TITLE}</td>
		<td style="text-align: center;">{blocks.BLOCK_TYPE}</td>
		<td style="text-align: center;">{blocks.BLOCK_POSITION}<!-- IF not blocks.S_BLOCK_DISABLED --> [ <a href="{blocks.U_DISABLE}">{L_DISABLE}</a> ]<!-- ENDIF --></td>
		<td style="text-align: center;">
			<!-- IF blocks.S_FIRST_ROW -->{ICON_MOVE_UP_DISABLED}<!-- ELSE --><a href="{blocks.U_MOVE_UP}">{ICON_MOVE_UP}</a><!-- ENDIF -->&nbsp;
			<!-- IF blocks.S_LAST_ROW -->{ICON_MOVE_DOWN_DISABLED}<!-- ELSE --><a href="{blocks.U_MOVE_DOWN}">{ICON_MOVE_DOWN}</a><!-- ENDIF -->&nbsp;
			<a href="{blocks.U_EDIT}">{ICON_EDIT}</a> <a href="{blocks.U_DELETE}">{ICON_DELETE}</a>
		</td>
	</tr>
	<!-- END blocks -->
	</tbody>
	</table>

	{S_FORM_TOKEN}
	</fieldset>
	</form>

<!-- ENDIF -->

<!-- INCLUDE overall_footer.html -->